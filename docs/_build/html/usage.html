
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Usage &#8212; Cowhite.js  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Events" href="events.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="events.html" title="Events"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Cowhite.js  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>We can use cowhite.js to build single page applications easily. Here are the various scenarios:</p>
<p><em>Scenarios:</em></p>
<div class="section" id="single-page-application-basic-usage">
<h2>1.  Single page application: Basic usage<a class="headerlink" href="#single-page-application-basic-usage" title="Permalink to this headline">¶</a></h2>
<p>Add below html for each tab(or url in single page app) in the main page</p>
<p>Html:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;items-section&#39;</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;each-section hide&#39;</span> <span class="n">data</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://marketing.cowhite.com/api/v1/items/&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;items-content&#39;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Url will be like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">cowhite</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="c1">#items</span>
</pre></div>
</div>
<p>If you want #items to be #learn for example, then code will be like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;learn-section&#39;</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;each-section hide&#39;</span> <span class="n">data</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://marketing.cowhite.com/api/v1/items/&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;learn-content&#39;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Url will be like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">cowhite</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="c1">#learn</span>
</pre></div>
</div>
<p>After opening above url, the content present inside “learn-section” will be shown.</p>
</div>
<div class="section" id="load-and-insert-content-automatically-from-remote-url">
<h2>2. Load and insert content automatically from remote url<a class="headerlink" href="#load-and-insert-content-automatically-from-remote-url" title="Permalink to this headline">¶</a></h2>
<p>Html:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;items-section&#39;</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;each-section hide&#39;</span> <span class="n">data</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://marketing.cowhite.com/api/v1/items/&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;items-content&#39;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>You can load content automatically from remote url by providing data attribute for url, that is “data-url” for the element with class “each-section”.</p>
<p>This response will be inserted into the element with id “items-content” where items is the tab.</p>
</div>
<div class="section" id="load-content-automatically-from-remote-url-and-then-manually-render-it">
<h2>3. Load content automatically from remote url and then manually render it<a class="headerlink" href="#load-content-automatically-from-remote-url-and-then-manually-render-it" title="Permalink to this headline">¶</a></h2>
<p>Html:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;items-section&#39;</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;each-section hide&#39;</span> <span class="n">data</span><span class="o">-</span><span class="n">callback</span><span class="o">=</span><span class="s2">&quot;loadItemsCallback&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://marketing.cowhite.com/api/v1/items/&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;items-content&#39;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Since you gave both data-url and data-callback, you need to implement the callback like below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>function loadItemsCallback(res){
  var html = &quot;&quot;, $itemHtml = $(&quot;#item-template&quot;), itemHtml;
  for(var i=0; i&lt;res.results.length; i++){
    itemHtml = $itemHtml.html().replace(/ITEM_ID/g, res.results[i].id).replace(
      /ITEM/g, res.results[i].name);
    html += itemHtml;
  }
  if(!res.results.length){
    html += &quot;&lt;div class=&#39;big-msg&#39;&gt;No items yet.&lt;/div&gt;&quot;
  }
  $(&quot;#items-content&quot;).html(html);

}
</pre></div>
</div>
<p>In my case, I implemented this because, the server response is JSON but not direct html for this api. So, I need to implement so I can generate html from JSON response. But in most other cases, I generally return html from the server, so I can load the html directly.</p>
</div>
<div class="section" id="load-data-manually">
<h2>4. Load data manually<a class="headerlink" href="#load-data-manually" title="Permalink to this headline">¶</a></h2>
<p>Html:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">div</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;items-section&#39;</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;each-section hide&#39;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;items-content&#39;</span><span class="o">&gt;&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In this scenario, we didnt provide any data-url, so it wont try to fetch automatically from the server.</p>
<p>You need to manually catch the event “items-opened” and write necessary code inside that function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$(document).on(&quot;items-opened&quot;, function(){
    // Implement code to make ajax calls and then to insert that content
});
</pre></div>
</div>
</div>
<div class="section" id="form-submissions">
<h2>5. Form submissions<a class="headerlink" href="#form-submissions" title="Permalink to this headline">¶</a></h2>
<p>Add a button like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;javascript:;&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s1">&#39;btn-show-form btn-show-submit-form&#39;</span>
<span class="n">data</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;assets/data/new_item_form.html&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">submit</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;http://marketing.cowhite.com/api/v1/items/&quot;</span>
<span class="n">data</span><span class="o">-</span><span class="n">form</span><span class="o">-</span><span class="nb">id</span><span class="o">=</span><span class="s2">&quot;add-item-form&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">aftersuccess</span><span class="o">=</span><span class="s1">&#39;refreshItems&#39;</span><span class="o">&gt;</span><span class="n">Add</span> <span class="n">Item</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Note that this link has two classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">btn</span><span class="o">-</span><span class="n">show</span><span class="o">-</span><span class="n">form</span>
<span class="n">btn</span><span class="o">-</span><span class="n">show</span><span class="o">-</span><span class="n">submit</span><span class="o">-</span><span class="n">form</span>
</pre></div>
</div>
<p>The class “btn-show-submit-form” is common for two buttons:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">Button</span> <span class="n">that</span> <span class="n">shows</span> <span class="n">the</span> <span class="n">form</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">Button</span> <span class="n">that</span> <span class="n">submits</span> <span class="n">the</span> <span class="n">form</span>
</pre></div>
</div>
<p>For button that shows the form, it has the additional class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">btn</span><span class="o">-</span><span class="n">show</span><span class="o">-</span><span class="n">form</span>
</pre></div>
</div>
<p>For button that submits the form or submit button, it has the additional class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">btn</span><span class="o">-</span><span class="n">submit</span><span class="o">-</span><span class="n">form</span>
</pre></div>
</div>
<p>And add a bootstrap modal like this for showing the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;div class=&quot;form-modal modal fade&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot;&gt;
  &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;
    &lt;div class=&quot;modal-content&quot;&gt;
      &lt;div class=&quot;modal-header&quot;&gt;
        &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;&lt;/button&gt;
        &lt;h4 class=&quot;modal-title&quot;&gt;&lt;/h4&gt;
      &lt;/div&gt;
      &lt;div class=&quot;modal-body&quot;&gt;
        &lt;!-- form will be added here automatically --&gt;
      &lt;/div&gt;
      &lt;div class=&quot;modal-footer&quot;&gt;
        &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;
        &lt;a href=&quot;javascript:;&quot; class=&quot;btn btn-primary btn-show-submit-form btn-submit-form&quot; data-type=&quot;POST&quot;&gt;Submit&lt;/a&gt;
        &lt;!-- Note that this button has the classes btn-show-submit-form and btn-submit-form --&gt;
      &lt;/div&gt;
    &lt;/div&gt;&lt;!-- /.modal-content --&gt;
  &lt;/div&gt;&lt;!-- /.modal-dialog --&gt;
&lt;/div&gt;&lt;!-- /.modal --&gt;
</pre></div>
</div>
<p>This modal needs the class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">form</span><span class="o">-</span><span class="n">modal</span>
</pre></div>
</div>
<p>This modal/popup has class “form-modal” and the submit button needs the classes
“btn-show-submit-form btn-submit-form” and needs data attribute “type” as “POST”.</p>
<p>After clicking the link, it will open above modal with the form html fetched from the server
using the data attribute “url”, that is, “data-url”.</p>
<p>When you click “submit” shown in the modal, it will send request(POST or GET depending on data attribute ‘type’, i.e data-type in the submit button) to the url mentioned in data-submit-url. If both data-url and data-submit-url are same, then you can simply ignore giving data-submit-url so it will directly use data-url for both getting the form html as well as submitting the form.</p>
<p>You can use this form to either add a new database record or edit an existing database record, but you need to set proper url in data-url so respective forms will be rendered in the modal.</p>
<p>This is explained using “Add item” link at the top of this page - <a class="reference external" href="http://cowhitejs.cowhite.com/">http://cowhitejs.cowhite.com/</a></p>
<p><strong>Data attributes for add form button:</strong></p>
<p>url:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">url</span> <span class="k">for</span> <span class="n">fetching</span> <span class="n">the</span> <span class="n">form</span> <span class="n">to</span> <span class="n">be</span> <span class="n">rendered</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">modal</span>
</pre></div>
</div>
<p>submit-url:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">url</span> <span class="k">for</span> <span class="n">submitting</span> <span class="n">the</span> <span class="n">form</span>
</pre></div>
</div>
<p>afterSuccess:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Callback</span> <span class="n">that</span> <span class="n">will</span> <span class="n">be</span> <span class="n">executed</span> <span class="n">after</span> <span class="n">ajax</span> <span class="n">success</span><span class="o">.</span>
</pre></div>
</div>
<p>form-id:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="ow">is</span> <span class="n">optional</span> <span class="ow">and</span> <span class="n">it</span> <span class="n">will</span> <span class="n">be</span> <span class="n">added</span> <span class="k">as</span> <span class="n">html</span> <span class="nb">id</span> <span class="n">to</span> <span class="n">the</span> <span class="n">form</span> <span class="n">being</span> <span class="n">added</span><span class="o">.</span>
</pre></div>
</div>
<p><strong>Data attributes for the submit button:</strong></p>
<p>type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="ow">or</span> <span class="n">POST</span><span class="o">.</span> <span class="n">GET</span> <span class="ow">is</span> <span class="n">default</span> <span class="nb">type</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="button-actions-or-button-clicks-delete-for-example">
<h2>6. Button actions or button clicks (delete for example)<a class="headerlink" href="#button-actions-or-button-clicks-delete-for-example" title="Permalink to this headline">¶</a></h2>
<p>Add this anchor in html:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;javascript:;&quot;</span>  <span class="n">class</span><span class="o">=</span><span class="s1">&#39;btn btn-danger btn-action btn-action-delete&#39;</span>
<span class="n">data</span><span class="o">-</span><span class="n">url</span><span class="o">=</span><span class="s2">&quot;http://marketing.cowhite.com/api/v1/items/ITEM_ID/&quot;</span> <span class="n">data</span><span class="o">-</span><span class="n">request</span><span class="o">-</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;DELETE&#39;</span>
<span class="n">data</span><span class="o">-</span><span class="n">aftersuccess</span><span class="o">=</span><span class="s1">&#39;refreshItems&#39;</span><span class="o">&gt;</span><span class="n">Delete</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>This anchor needs the classes “btn-action btn-action-delete”, data attribute url, i.e data-url, data-request-type(DELETE if you are sending delete request but it might change depending on the server).</p>
<p>If your server expects a POST request then data-request-type should be “POST”. But it needs the class “btn-action-delete” so it will ask for confirmation before making the ajax request.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Usage</a><ul>
<li><a class="reference internal" href="#single-page-application-basic-usage">1.  Single page application: Basic usage</a></li>
<li><a class="reference internal" href="#load-and-insert-content-automatically-from-remote-url">2. Load and insert content automatically from remote url</a></li>
<li><a class="reference internal" href="#load-content-automatically-from-remote-url-and-then-manually-render-it">3. Load content automatically from remote url and then manually render it</a></li>
<li><a class="reference internal" href="#load-data-manually">4. Load data manually</a></li>
<li><a class="reference internal" href="#form-submissions">5. Form submissions</a></li>
<li><a class="reference internal" href="#button-actions-or-button-clicks-delete-for-example">6. Button actions or button clicks (delete for example)</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="events.html"
                        title="next chapter">Events</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/usage.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="events.html" title="Events"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Cowhite.js  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Cowhite Software Pvt Ltd.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.4.
    </div>
  </body>
</html>